# $FreeBSD$

PORTNAME=pfSense-pkg-netify
PORTVERSION=@PACKAGE_VERSION@
PORTREVISION=12
CATEGORIES=security
MASTER_SITES=
MAINTAINER=team@netify.ai
COMMENT=pfSense package netify
LICENSE=GPLv3+
LICENSE_FILE=${WRKSRC}/../../../../LICENSE
DISTFILES=
EXTRACT_ONLY=

#RUN_DEPENDS=netifyd>=2.96:security/netifyd

NO_BUILD=yes
NO_MTREE=yes
SUB_FILES=pkg-install pkg-deinstall
SUB_LIST=PORTNAME=${PORTNAME}

do-extract:
	${MKDIR} ${WRKSRC}

do-install:
	${MKDIR} ${STAGEDIR}${DATADIR}
	${MKDIR} ${STAGEDIR}${DOCSDIR}
	${MKDIR} ${STAGEDIR}${PREFIX}/pkg
	${MKDIR} ${STAGEDIR}${PREFIX}/pkg/netify
	${MKDIR} ${STAGEDIR}${PREFIX}/www/netify
	${MKDIR} ${STAGEDIR}/etc/inc/priv

	${INSTALL_DATA} -m 0644 ${FILESDIR}/INSTALL-pfSense-2.4.4-p3.md \
		${STAGEDIR}${DOCSDIR}
	${INSTALL_DATA} ${FILESDIR}${DATADIR}/info.xml \
		${STAGEDIR}${DATADIR}
	${INSTALL_DATA} -m 0644 ${FILESDIR}${PREFIX}/pkg/netify.xml \
		${STAGEDIR}${PREFIX}/pkg
	${INSTALL_DATA} ${FILESDIR}${PREFIX}/pkg/netify/netify.inc \
		${STAGEDIR}${PREFIX}/pkg/netify
	${INSTALL_DATA} ${FILESDIR}${PREFIX}/pkg/netify/netify_defs.inc \
		${STAGEDIR}${PREFIX}/pkg/netify
#	${INSTALL_DATA} ${FILESDIR}/etc/inc/priv/netify.priv.inc \
#		${STAGEDIR}/etc/inc/priv
	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_status.php \
		${STAGEDIR}${PREFIX}/www/netify
	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_provision.php \
		${STAGEDIR}${PREFIX}/www/netify

	@${REINPLACE_CMD} -i '' -e "s|%%PKGVERSION%%|${PKGVERSION}|" \
		${STAGEDIR}${DATADIR}/info.xml \
		${STAGEDIR}${PREFIX}/pkg/netify.xml

#	${MKDIR} ${STAGEDIR}${PREFIX}/www/widgets/javascript
#	${MKDIR} ${STAGEDIR}${PREFIX}/www/widgets/widgets
#	${MKDIR} ${STAGEDIR}${PREFIX}/www/widgets/include
#	${MKDIR} ${STAGEDIR}/var/db/netify/sidmods

#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/pkg/netify/netify_check_cron_misc.inc \
#		${STAGEDIR}${PREFIX}/pkg/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/pkg/netify/netify_conf_template.inc \
#		${STAGEDIR}${PREFIX}/pkg/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/pkg/netify/netify_migrate_config.php \
#		${STAGEDIR}${PREFIX}/pkg/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/pkg/netify/netify_post_install.php \
#		${STAGEDIR}${PREFIX}/pkg/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/pkg/netify/netify_uninstall.php \
#		${STAGEDIR}${PREFIX}/pkg/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/pkg/netify/netify_sync.xml \
#		${STAGEDIR}${PREFIX}/pkg/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/pkg/netify/deprecated_rules \
#		${STAGEDIR}${PREFIX}/pkg/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_alerts.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_barnyard.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_blocked.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_define_servers.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_download_updates.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/pkg/netify/netify_check_for_rule_updates.php \
#		${STAGEDIR}${PREFIX}/pkg/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_interfaces.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_interfaces_edit.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_interfaces_global.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_rules.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_rules_edit.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_rulesets.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_preprocessors.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_passlist.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_passlist_edit.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_interfaces_suppress.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_interfaces_suppress_edit.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_list_view.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_rules_flowbits.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_edit_hat_data.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_frag3_engine.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_stream5_engine.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_httpinspect_engine.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_ftp_client_engine.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_ftp_server_engine.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_import_aliases.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_select_alias.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_ip_reputation.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_ip_list_mgmt.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_iprep_list_browser.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_interface_logs.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_log_mgmt.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/netify/netify_sid_mgmt.php \
#		${STAGEDIR}${PREFIX}/www/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/pkg/netify/netify_generate_conf.php \
#		${STAGEDIR}${PREFIX}/pkg/netify
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/widgets/javascript/netify_alerts.js \
#		${STAGEDIR}${PREFIX}/www/widgets/javascript
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/widgets/widgets/netify_alerts.widget.php \
#		${STAGEDIR}${PREFIX}/www/widgets/widgets
#	${INSTALL_DATA} ${FILESDIR}${PREFIX}/www/widgets/include/widget-netify.inc \
#		${STAGEDIR}${PREFIX}/www/widgets/include
#	${INSTALL_DATA} ${FILESDIR}/var/db/netify/sidmods/disablesid-sample.conf \
#		${STAGEDIR}/var/db/netify/sidmods
#	${INSTALL_DATA} ${FILESDIR}/var/db/netify/sidmods/enablesid-sample.conf \
#		${STAGEDIR}/var/db/netify/sidmods
#	${INSTALL_DATA} ${FILESDIR}/var/db/netify/sidmods/modifysid-sample.conf \
#		${STAGEDIR}/var/db/netify/sidmods
#	${INSTALL_DATA} ${FILESDIR}/var/db/netify/sidmods/dropsid-sample.conf \
#		${STAGEDIR}/var/db/netify/sidmods
#	${INSTALL_DATA} ${FILESDIR}/var/db/netify/sidmods/rejectsid-sample.conf \
#		${STAGEDIR}/var/db/netify/sidmods
#	@${REINPLACE_CMD} -i '' -e "s|%%PKGVERSION%%|${PKGVERSION}|" \
#		${STAGEDIR}${DATADIR}/info.xml \
#		${STAGEDIR}${PREFIX}/pkg/netify/netify_sync.xml \
#		${STAGEDIR}${PREFIX}/pkg/netify.xml

.include <bsd.port.mk>
